webpackJsonp([1],[,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"Loading",props:{show:Boolean,near:String}}},function(t,e,i){e=t.exports=i(2)(),e.push([t.id,".ui-loading-block.top .ui-loading-cnt[_v-2edac82c]{margin-top:-200px}.ui-loading-block .ui-loading-cnt[_v-2edac82c]{width:57px;height:57px}.ui-loading-block .ui-loading-bright[_v-2edac82c]{margin:10px}",""])},function(t,e){t.exports='<div :class="[\'ui-loading-block\', \'show\', near]" v-if=show _v-2edac82c=""><div class=ui-loading-cnt _v-2edac82c=""><i class=ui-loading-bright _v-2edac82c=""></i></div></div>'},function(t,e,i){var o,a;i(8),o=i(4),a=i(6),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var o=i(5);"string"==typeof o&&(o=[[t.id,o,""]]);i(3)(o,{});o.locals&&(t.exports=o.locals)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"HeaderBar",props:{left:String,title:String,right:String},data:function(){return{isSlide:!1}},methods:{back:function(){history.back()},menu:function(){this.isSlide=!this.isSlide,this.$dispatch("nav-slide",this.isSlide)}}}},function(t,e,i){e=t.exports=i(2)(),e.push([t.id,".header .btn{position:absolute;top:0;height:45px;width:45px}.header .left{left:0}.header .right{right:0}.header .back i{top:1px}.header .search{right:4px}.header .search i{font-size:54px}.header .menu i{width:20px;height:2px;display:block;background:#fff;margin:5px 10px}.navdrawer{background:#1e1e1e;position:fixed;top:0;left:0;right:20%;color:#fff;height:100%}.navdrawer .navdrawer-header{height:44px;line-heigth:44px;border-bottom:1px solid #1f1f1f}.navdrawer .navdrawer-header h2{font-size:25px;padding:5px 15px;float:left}.navdrawer .navdrawer-header li{float:right;padding:0 5px}.navdrawer .navdrawer-header li a{color:#fff}.navdrawer .ui-searchbar-wrap{background:#1e1e1e;width:80%}.navdrawer .ui-searchbar{background:#5f5f5f;color:#fff}.navdrawer .navdrawer-content h3{background:#3b3b3b;color:#919191;padding:5px 15px;font-size:15px;line-height:13px;margin-top:10px}.navdrawer .navdrawer-content ul{list-style:none}.navdrawer .navdrawer-content ul li{padding:2px}.navdrawer .navdrawer-content ul li a{overflow:hidden;padding:13px 15px 13px 0;display:block;color:#fff;font-size:17px;margin-left:15px;border-bottom:1px solid #282828}",""])},function(t,e){t.exports='<header class="ui-header ui-header-positive ui-border-b header"><button v-if="left == \'back\'" @click=back class="btn back left"><i class=ui-icon-return></i></button><button v-if="left == \'menu\'" @click=menu class="btn menu left"><i></i><i></i><i></i></button><button v-link="{name: \'search\'}" class="btn search right"><i class=ui-icon-search></i></button><h1>{{ title }}</h1></header>'},function(t,e,i){var o,a;i(14),o=i(9),a=i(11),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},,function(t,e,i){var o=i(10);"string"==typeof o&&(o=[[t.id,o,""]]);i(3)(o,{});o.locals&&(t.exports=o.locals)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"Star",props:{score:Number,size:String}}},function(t,e,i){e=t.exports=i(2)(),e.push([t.id,".star{position:relative;height:20px;line-height:20px;width:100px}.star.large{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-transform-origin:left center;transform-origin:left center}.star .gray,.star .ligh{position:absolute;top:-13px;left:-8px;width:100px;overflow:hidden}.star .gray .ui-icon-star{color:#ccc}.star .ligh .ui-icon-star{color:#f3e319}.star .ui-icon-star{display:inline-block;width:18px;height:20px}.star .score{padding-left:100px}",""])},function(t,e){t.exports='<div :class="[\'star\', size]"><div class=gray><i v-for="n of 5" class=ui-icon-star></i></div><div :style="{width: (score * 10) + \'%\'}" class=ligh><i v-for="n of 5" class=ui-icon-star></i></div><div class=score>{{ score }}</div></div>'},function(t,e,i){var o,a;i(19),o=i(15),a=i(17),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var o=i(16);"string"==typeof o&&(o=[[t.id,o,""]]);i(3)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,i){t.exports={"default":i(21),__esModule:!0}},function(t,e,i){var o=i(22),a=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},,,,function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(20),s=o(a),r=i(12),n=o(r),l=i(7),d=o(l),p=i(18),c=o(p);e["default"]={data:function(){return{title:"电影列表",movieLists:[],page:1,count:10,type:"",total:0,more:!0,load:!1}},route:{data:function(t){this.type=t.to.params.type,this.getMoviesData(),window.addEventListener("scroll",this.scroll)},deactivate:function(t){window.removeEventListener("scroll",this.scroll),t.next()}},methods:{scroll:function(){if(!this.$loadingRouteData){var t=document.body.scrollHeight-window.screen.height-document.body.scrollTop<=0;t&&!this.load&&(this.load=!0,this.getMoviesData())}},getMoviesData:function(){var t=this;return sessionStorage["MovieApp_"+this.type]&&(this.movieLists=JSON.parse(sessionStorage["MovieApp_"+this.type]),this.$loadingRouteData=!1,this.total<=this.movieLists.length)?(this.more=!1,void(this.load=!1)):void this.$http.jsonp("http://api.douban.com/v2/movie/"+this.type,{count:this.count,start:(this.page-1)*this.count}).then(function(e){1===t.page&&(t.title=e.data.title.split("-")[0],t.total=e.data.total,t.$loadingRouteData=!1),e.data&&e.data.subjects.length?(t.page++,t.movieLists=t.movieLists.concat(e.data.subjects)):t.more=!1,sessionStorage["MovieApp_"+t.type]=(0,s["default"])(t.movieLists),t.load=!1})}},components:{HeaderBar:n["default"],Loading:d["default"],Star:c["default"]}}},,,,,,,,,function(t,e){t.exports="<div v-if=!$loadingRouteData transition=fade class=page><header-bar left=back :title=title></header-bar><ul class=\"ui-list ui-list-link ui-border-tb list-one\"><li v-for=\"item of movieLists\" v-link=\"{name: 'show', params: {id: item.id}}\" track-by=$index class=ui-border-t><div class=ui-list-img><img :src=item.images.medium alt=item.title /></div><div class=ui-list-info><h4 class=ui-nowrap>{{ item.title }}</h4><p class=ui-nowrap><star :score=item.rating.average></star></p><p class=ui-nowrap>{{ item.genres.join(' ') }}</p><p class=ui-nowrap><span v-for=\"cast of item.casts\">{{ cast.name }}/</span></p></div></li></ul><div class=ui-loading-wrap><p class=ui-txt-info>{{ more ? '加载中' : '没有更多了'}}</p><i v-show=more class=ui-loading></i></div></div><loading :show=$loadingRouteData></loading>"},,,,,,,,function(t,e,i){var o,a;o=i(26),a=i(35),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)}]);
//# sourceMappingURL=1.build.js.map